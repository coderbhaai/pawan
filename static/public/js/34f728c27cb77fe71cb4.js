(self.webpackChunkreward=self.webpackChunkreward||[]).push([[2231],{9186:(e,t,a)=>{"use strict";var n=a(7294),l=a(3935),r=a(7757),c=a.n(r),m=a(8926),s=a.n(m),i=a(4575),o=a.n(i),u=a(3913),d=a.n(u),h=a(1506),v=a.n(h),p=a(2205),E=a.n(p),f=a(8585),g=a.n(f),C=a(9754),y=a.n(C),b=a(9713),S=a.n(b),x=a(3362),N=a(262);const k=function(e){E()(r,e);var t,a,l=(t=r,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=y()(t);if(a){var l=y()(this).constructor;e=Reflect.construct(n,arguments,l)}else e=n.apply(this,arguments);return g()(this,e)});function r(e){var t;return o()(this,r),(t=l.call(this,e)).state={active:"",user:[]},t}return d()(r,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),"undefined"!=typeof Storage&&this.setState({user:JSON.parse(localStorage.getItem("user"))||[]}),this.setState({active:window.location.pathname}),"/admin/admin"===window.location.pathname&&this.setState({active:"/admin/users"}),"/admin/addBlog"===window.location.pathname&&this.setState({active:"/admin/blogs"}),"updateBlog"===window.location.pathname.split("/")[2]&&this.setState({active:"/admin/blogs"}),"/admin/createStore"===window.location.pathname&&this.setState({active:"/admin/adminStore"}),"updateStore"===window.location.pathname.split("/")[2]&&this.setState({active:"/admin/adminStore"})}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"col-sm-2 adminSidebar"},this.state.user.role?n.createElement("ul",null,"Admin"===this.state.user.role?[{url:"/admin/users",text:"Users",active:"/admin/users"},{url:"/admin/basics",text:"Basics",active:"/admin/basics"},{url:"/admin/meta",text:"Meta",active:"/admin/meta"},{url:"/admin/blogs",text:"Blogs",active:"/admin/blogs"},{url:"/admin/blogmeta",text:"Blog Meta",active:"/admin/blogmeta"},{url:"/admin/comments",text:"Comments",active:"/admin/comments"},{url:"/admin/contacts",text:"Contact",active:"/admin/contacts"},{url:"/admin/adminStore",text:"adminStore",active:"/admin/adminStore"},{url:"/admin/adminCategory",text:"adminCategory",active:"/admin/adminCategory"},{url:"/admin/adminCoupon",text:"adminCoupon",active:"/admin/adminCoupon"},{url:"/admin/adminDeal",text:"adminDeal",active:"/admin/adminDeal"},{url:"/admin/adminCashback",text:"adminCashback",active:"/admin/adminCashback"},{url:"/admin/leaderboard",text:"leaderboard",active:"/admin/leaderboard"},{url:"/admin/advertisement",text:"Advertisement",active:"/admin/advertisement"},{url:"/admin/questionBank",text:"QuestionBank",active:"/admin/questionBank"},{url:"/admin/survey",text:"Survey",active:"/admin/survey"},{url:"/admin/survey-response",text:"Survey Response",active:"/admin/survey-response"},{url:"/admin/cashback",text:"Cashback",active:"/admin/cashback"},{url:"/admin/career",text:"Career",active:"/admin/career"},{url:"/admin/job-applications",text:"Resume",active:"/admin/job-applications"}].map((function(t,a){return n.createElement("li",{key:a},n.createElement("a",{href:t.url,className:e.state.active===t.active?"active":null},t.text))})):"User"===this.state.user.role?[{url:"/user/refer-and-earn",text:"Refer & Earn",active:"/user/refer-and-earn"},{url:"/user/your-surveys",text:"Your Surveys",active:"/user/your-surveys"},{url:"/user/cashback-history",text:"Cashback History",active:"/user/cashback-history"}].map((function(t,a){return n.createElement("li",{key:a},n.createElement("a",{href:t.url,className:e.state.active===t.active?"active":null},t.text))})):null):null)}}]),r}(n.Component);var w=a(7217),O=a(9669),_=a.n(O);var D=a(5813);const P=function(e){E()(r,e);var t,a,l=(t=r,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=y()(t);if(a){var l=y()(this).constructor;e=Reflect.construct(n,arguments,l)}else e=n.apply(this,arguments);return g()(this,e)});function r(e){var t;return o()(this,r),t=l.call(this,e),S()(v()(t),"callApi",s()(c().mark((function e(){var a,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/admin/adminComments");case 2:return a=e.sent,e.next=5,a.json();case 5:if(n=e.sent,200===a.status){e.next=8;break}throw Error(n.message);case 8:t.setState({comments:n.data,loading:!1});case 9:case"end":return e.stop()}}),e)})))),S()(v()(t),"editModalOn",(function(e){t.setState({editmodalIsOpen:!0,name:e.user,email:e.email,comment:e.comment,status:e.status,selectedComment:e.id})})),S()(v()(t),"resetData",(function(){t.setState({editmodalIsOpen:!1,name:"",email:"",comment:"",status:"",selectedComment:""}),window.scrollTo(0,0)})),S()(v()(t),"onChange",(function(e){t.setState(S()({},e.target.name,e.target.value))})),S()(v()(t),"handleClick",(function(e){t.setState({currentPage:Number(e.target.id)})})),S()(v()(t),"changeitemsPerPage",(function(e){t.setState({itemsPerPage:e.target.value})})),S()(v()(t),"updateComment",(function(e){e.preventDefault();var a={id:t.state.selectedComment,name:t.state.name,email:t.state.email,comment:t.state.comment,status:t.state.status};_().post("/admin/updateComment",a).catch((function(e){return D.printError(e)})).then((function(e){e.data.success&&t.setState({comments:t.state.comments.map((function(t){return t.id===parseInt(e.data.data.id)?t=e.data.data:t}))}),D.callSwal(e.data.message)})),t.resetData()})),t.state={currentPage:1,itemsPerPage:100,comments:[],loading:!0,name:"",email:"",comment:"",status:"",selectedComment:"",editmodalIsOpen:!1},t}return d()(r,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.callApi()}},{key:"render",value:function(){for(var e=this,t=this.state,a=t.currentPage,l=t.itemsPerPage,r=a*l,c=r-l,m=this.state.comments.slice(c,r).map((function(t,a){return n.createElement("tr",{key:a},n.createElement("td",null,a+1),n.createElement("td",null,n.createElement("a",{href:"/blog/"+t.url,target:"_blank"},t.title)),n.createElement("td",null,t.user,n.createElement("br",null),t.email),n.createElement("td",null,t.comment),n.createElement("td",null,1==t.status?"Show":"Hide"),n.createElement("td",null,t.updated_at),n.createElement("td",{className:"text-center editIcon"},n.createElement("img",{src:"/images/icons/edit.svg",alt:"Edit Icon",onClick:function(){return e.editModalOn(t)}})))})),s=[],i=1;i<=Math.ceil(this.state.comments.length/l);i++)s.push(i);var o=s.map((function(t){return a==t?n.createElement("li",{key:t,id:t,onClick:e.handleClick,className:"active"}," ",t):n.createElement("li",{key:t,id:t,onClick:e.handleClick}," ",t)}));return n.createElement(n.Fragment,null,n.createElement(x.Z,null),n.createElement("div",{className:"container-fluid admin admin"},n.createElement("div",{className:"row admin"},n.createElement(k,{active:"Comments"}),n.createElement("div",{className:"col-sm-10"},n.createElement("h1",{className:"heading"},n.createElement("span",null,"Admin Panel "),"(Comments)"),n.createElement("div",{className:"btn-pag"},n.createElement("div",{className:"noFlex perPage"},n.createElement("label",null,"Rows per page"),n.createElement("select",{className:"form-control",required:!0,value:l,onChange:function(t){return e.changeitemsPerPage(t)}},n.createElement("option",null,l),n.createElement("option",{value:"10"},"10"),n.createElement("option",{value:"25"},"25"),n.createElement("option",{value:"50"},"50"),n.createElement("option",{value:"100"},"100"))),n.createElement("div",{className:"search"},n.createElement("div",{className:"noFlex searchInput"},n.createElement("label",null,"Search Here"),n.createElement("input",{type:"text",placeholder:"Search here",className:"form-control",onChange:function(t){return e.searchSpace(t)}})),n.createElement("div",{className:"noFlex"},n.createElement("label",null,"Page Numbers"),n.createElement("ul",{className:"page-numbers"},o," ")))),n.createElement("table",{className:"table table-hover table-responsive"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",null,"Sl No."),n.createElement("th",null,"Blog"),n.createElement("th",null,"Name & Email"),n.createElement("th",null,"Comment"),n.createElement("th",null,"Status"),n.createElement("th",null,"Time"),n.createElement("th",null,"Action"))),n.createElement("tbody",null,this.state.loading?n.createElement("tr",{className:"loading"},n.createElement("td",{colSpan:"7",className:"text-center"},n.createElement("img",{src:"/images/icons/loading.gif"}))):m)),n.createElement("ul",{className:"page-numbers"},o)))),n.createElement(w.Z,{isOpen:this.state.editmodalIsOpen,className:"adminModal"},n.createElement("div",{className:"modal-header"},n.createElement("h2",null,"Update Comment  Here"),n.createElement("div",{className:"closeModal",onClick:this.resetData},"X")),n.createElement("form",{className:"modal-form",encType:"multipart/form-data",onSubmit:this.updateComment},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-6"},n.createElement("label",null,"Name"),n.createElement("input",{className:"form-control",type:"text",placeholder:"Add Name Here",name:"name",required:!0,value:this.state.name,onChange:this.onChange})),n.createElement("div",{className:"col-sm-6"},n.createElement("label",null,"Email"),n.createElement("textarea",{className:"form-control",type:"email",placeholder:"Add Email Here",name:"title",required:!0,value:this.state.email,onChange:this.onChange})),n.createElement("div",{className:"col-sm-6"},n.createElement("label",null,"Comment"),n.createElement("textarea",{className:"form-control",type:"text",placeholder:"Add Comment",name:"comment",required:!0,value:this.state.comment,onChange:this.onChange})),n.createElement("div",{className:"col-sm-6"},n.createElement("label",null,"Status"),n.createElement("select",{className:"form-control",required:!0,value:this.state.status,onChange:this.onChange,name:"status"},n.createElement("option",null,"Select a Role"),n.createElement("option",{value:"1"},"Show"),n.createElement("option",{value:"0"},"Don't Show")))),n.createElement("div",{className:"my-div"},n.createElement("button",{className:"casleyBtn",type:"submit"},"Submit")))),n.createElement(N.Z,null))}}]),r}(n.Component);(0,l.render)(n.createElement(P,null),document.getElementById("root"))},5697:(e,t,a)=>{e.exports=a(2703)()},3935:(e,t,a)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=a(4448)},7294:(e,t,a)=>{"use strict";e.exports=a(2408)}}]);