(self.webpackChunkreward=self.webpackChunkreward||[]).push([[1073],{7228:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}},3646:(e,t,n)=>{var a=n(7228);e.exports=function(e){if(Array.isArray(e))return a(e)}},6860:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},8206:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},319:(e,t,n)=>{var a=n(3646),r=n(6860),s=n(379),l=n(8206);e.exports=function(e){return a(e)||r(e)||s(e)||l()}},379:(e,t,n)=>{var a=n(7228);e.exports=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}},1073:(e,t,n)=>{"use strict";var a=n(7294),r=n(3935),s=n(319),l=n.n(s),c=n(7757),i=n.n(c),o=n(8926),u=n.n(o),m=n(4575),f=n.n(m),d=n(3913),p=n.n(d),E=n(1506),h=n.n(E),v=n(2205),g=n.n(v),y=n(8585),w=n.n(y),N=n(9754),S=n.n(N),b=n(9713),q=n.n(b),k=n(3362);const x=function(e){g()(s,e);var t,n,r=(t=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=S()(t);if(n){var r=S()(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return w()(this,e)});function s(e){var t;return f()(this,s),t=r.call(this,e),q()(h()(t),"callApi",u()(i().mark((function e(){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/admin/footerData");case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,200===n.status){e.next=8;break}throw Error(a.message);case 8:t.setState({store:a.store,coupon:a.coupon,deal:a.deal});case 9:case"end":return e.stop()}}),e)})))),t.state={store:[],coupon:[],deal:[]},t}return p()(s,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.callApi()}},{key:"render",value:function(){return a.createElement("footer",null,a.createElement("div",{className:"container-fluid py-3"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-3"},a.createElement("h3",null,"Stores"),a.createElement("ul",null,this.state.store.map((function(e,t){return a.createElement("li",{key:t},a.createElement("a",{href:e.url},e.name))})))),a.createElement("div",{className:"col-sm-3"},a.createElement("h3",null,"Coupons"),a.createElement("ul",null,this.state.coupon.map((function(e,t){return a.createElement("li",{key:t},a.createElement("a",{href:e.url},e.title))})))),a.createElement("div",{className:"col-sm-3"},a.createElement("h3",null,"Deals"),a.createElement("ul",null,this.state.deal.map((function(e,t){return a.createElement("li",{key:t},a.createElement("a",{href:e.url},e.title))})))),a.createElement("div",{className:"col-sm-3"},a.createElement("h3",null,"Important Links"),a.createElement("ul",null,a.createElement("li",null,a.createElement("a",{href:"/"},"Home")),a.createElement("li",null,a.createElement("a",{href:"/blog"},"Blog")),a.createElement("li",null,a.createElement("a",{href:"/shop"},"Shop")),a.createElement("li",null,a.createElement("a",{href:"/faq"},"FAQ")),a.createElement("li",null,a.createElement("a",{href:"/about-us"},"About Us")),a.createElement("li",null,a.createElement("a",{href:"/contact-us"},"Contact Us")))))),a.createElement("div",{className:"social"},a.createElement("div",{className:"social-container"},a.createElement("ul",{className:"social-icons"},a.createElement("li",null,a.createElement("a",{href:"#"},a.createElement("img",{src:"/images/icons/facebook-white.svg",className:"first"}),a.createElement("img",{src:"/images/icons/facebook.svg",className:"second"}))),a.createElement("li",null,a.createElement("a",{href:"#"},a.createElement("img",{src:"/images/icons/linkedin-white.svg",className:"first"}),a.createElement("img",{src:"/images/icons/linkedin.svg",className:"second"}))),a.createElement("li",null,a.createElement("a",{href:"#"},a.createElement("img",{src:"/images/icons/twitter-white.svg",className:"first"}),a.createElement("img",{src:"/images/icons/twitter.svg",className:"second"}))),a.createElement("li",null,a.createElement("a",{href:"#"},a.createElement("img",{src:"/images/icons/instagram-white.svg",className:"first"}),a.createElement("img",{src:"/images/icons/instagram.svg",className:"second"}))),a.createElement("li",null,a.createElement("a",{href:"#"},a.createElement("img",{src:"/images/icons/whatsapp-white.svg",className:"first"}),a.createElement("img",{src:"/images/icons/whatsapp-button.svg",className:"second"}))))),a.createElement("span",null,"Copyrights 2021, Casley India Pvt.Ltd."),a.createElement("span",null,"Email: hello@rewardeagle.com")))}}]),s}(a.Component);var C=n(664),A=n(7150),O=n(9669),D=n.n(O);var R=n(5813);const I=function(e){g()(s,e);var t,n,r=(t=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=S()(t);if(n){var r=S()(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return w()(this,e)});function s(e){var t;return f()(this,s),t=r.call(this,e),q()(h()(t),"callApi",u()(i().mark((function e(){var n,a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.location.href.split("/").pop(),t.setState({id:n}),e.next=4,fetch("/admin/getSurvey/"+n);case 4:return a=e.sent,e.next=7,a.json();case 7:if(r=e.sent,200===a.status){e.next=10;break}throw Error(r.message);case 10:r.data.results.forEach((function(e){t.state.questionOptions.push({text:e.title,value:e.id})})),t.setState({data:r.data.results,title:r.questions.title,status:r.questions.status,reward:r.questions.reward,questions:JSON.parse(r.questions.questions),questionOptions:t.state.questionOptions,count:new Array(JSON.parse(r.questions.questions).length).fill("blank"),loading:!1});case 12:case"end":return e.stop()}}),e)})))),q()(h()(t),"onChange",(function(e){t.setState(q()({},e.target.name,e.target.value))})),q()(h()(t),"setMinNum",function(){var e=u()(i().mark((function e(n){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.setMinNum(n);case 2:a=e.sent,t.setState({reward:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),q()(h()(t),"questionSelected",(function(e,n){var a=n.value;t.state.questions[a.initialized]=a.value,t.setState({questions:t.state.questions})})),q()(h()(t),"addHandler",(function(e){e.preventDefault();var n={id:t.state.id,title:t.state.title,status:t.state.status,reward:t.state.reward,questions:JSON.stringify(t.state.questions)};D().post("/admin/updateSurvey",n).catch((function(e){return R.printError(e)})).then((function(e){e.data.success&&(localStorage.setItem("message",e.data.message),window.location.href="/admin/survey"),R.callSwal(e.data.message)}))})),q()(h()(t),"addQuestion",(function(){t.state.count.length!==t.state.questions.length&&t.state.count.length?R.callSwal("Please select the earlier question first"):t.setState({count:[].concat(l()(t.state.count),[""])})})),t.state={title:"",status:"",reward:"",data:[],questionOptions:[],questions:[],count:[],loading:!1},t}return p()(s,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.callApi()}},{key:"render",value:function(){var e=this;return a.createElement(a.Fragment,null,a.createElement(k.Z,null),this.state.loading?a.createElement("div",{className:"loading"},a.createElement("img",{src:"/images/icons/loading.gif"})):a.createElement("div",{className:"container-fluid admin"},a.createElement("div",{className:"row"},a.createElement(C.Z,null),a.createElement("div",{className:"col-sm-10"},a.createElement("h2",{className:"heading"},"Create Survey"),a.createElement("form",{encType:"multipart/form-data",onSubmit:this.addHandler},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-4"},a.createElement("label",null,"Title"),a.createElement("input",{className:"form-control",type:"text",placeholder:"Survey Title",name:"title",required:!0,value:this.state.title,onChange:this.onChange})),a.createElement("div",{className:"col-sm-4"},a.createElement("label",null,"Status"),a.createElement("select",{className:"form-control",name:"status",required:!0,value:this.state.status,onChange:this.onChange},a.createElement("option",{value:""},"Status?"),a.createElement("option",{value:"1"},"Active"),a.createElement("option",{value:"0"},"Not Active"))),a.createElement("div",{className:"col-sm-4"},a.createElement("label",null,"Reward"),a.createElement("input",{type:"number",onKeyDown:function(e){return"e"===e.key&&e.preventDefault()},min:1,className:"form-control",name:"reward",value:this.state.reward,onChange:this.setMinNum,placeholder:"Display Order",required:!0})),a.createElement("div",{className:"col-sm-12"},a.createElement("span",{onClick:this.addQuestion,className:"casleyBtn"},"Add Question")),this.state.count.map((function(t,n){return a.createElement("div",{className:"col-sm-12 card",key:n},a.createElement("div",null,a.createElement("div",null,a.createElement("label",null,"Question ",n+1),a.createElement(A.Z,{placeholder:"Select Question",fluid:!0,search:!0,selection:!0,onChange:e.questionSelected,options:e.state.questionOptions.map((function(e){return{key:e.value,text:e.text,value:{value:e.value,initialized:n},initialized:n}}))})),e.state.data.filter((function(t){return t.id==e.state.questions[n]})).map((function(e,t){return a.createElement("div",{key:t},a.createElement("h3",null,"Question : ",e.title),2==e.type?a.createElement("div",{className:"row"},JSON.parse(e.options).map((function(e,t){return a.createElement("div",{className:"col-sm-6",key:t},a.createElement("span",null,t+1," - ",e))}))):null)}))))}))),this.state.questions.length?a.createElement("button",{className:"casleyBtn",type:"submit"},"Update Survey"):null)))),a.createElement(x,null))}}]),s}(a.Component);(0,r.render)(a.createElement(I,null),document.getElementById("root"))}}]);